"use strict";(self.webpackChunkappTienda=self.webpackChunkappTienda||[]).push([[644],{2644:(L,m,u)=>{u.r(m),u.d(m,{PagesModule:()=>H});var c=u(6814),g=u(4670),t=u(4946);const l_apiUrl="http://143.244.188.159:8080";var p=u(9862);let _=(()=>{class o{constructor(e){this.http=e,this.apiUrl=`${l_apiUrl}/categoria`}buscarTodos(){return this.http.get(`${this.apiUrl}/buscarTodas`)}agregarCategoria(e){return this.http.post(`${this.apiUrl}/nuevaCategoria`,e)}eliminarCategoria(e){return this.http.delete(`${this.apiUrl}/eliminar/{id}?id=${e.id}`)}actualizarCategoria(e){return this.http.put(`${this.apiUrl}/actualizarCategoria`,e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(p.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var n=u(95);function h(o,r){1&o&&(t.TgZ(0,"div")(1,"button",13),t._uU(2,"Guardar"),t.qZA()())}function Z(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.actualizar())}),t._uU(1," Actualizar "),t.qZA()}}function T(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"div",15)(9,"button",16),t._uU(10," Acciones "),t.qZA(),t.TgZ(11,"ul",17)(12,"li")(13,"a",18),t.NdJ("click",function(){const d=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.cargarCategoriaForm(d))}),t._uU(14,"Editar"),t.qZA()(),t.TgZ(15,"li")(16,"a",18),t.NdJ("click",function(){const d=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.eliminar(d))}),t._uU(17,"Eliminar"),t.qZA()()()()()()}if(2&o){const e=r.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.nombre),t.xp6(2),t.Oqu(e.descripcion)}}let v=(()=>{class o{constructor(e,i){this.categoriaService=e,this.fb=i,this.categorias=[],this.isCheckSave=!0,this.formulario=this.fb.group({id:null,nombre:[""],descripcion:[""]})}ngOnInit(){this.buscarTodos()}buscarTodos(){this.categoriaService.buscarTodos().subscribe(e=>{this.categorias=e})}guardar(){this.categoriaService.agregarCategoria(this.formulario.value).subscribe(e=>{this.buscarTodos(),this.formulario.reset()})}eliminar(e){this.categoriaService.eliminarCategoria(e).subscribe(i=>{this.buscarTodos(),this.formulario.reset()})}cargarCategoriaForm(e){this.isCheckSave=!1,this.formulario.reset({id:e.id,nombre:e.nombre,descripcion:e.descripcion})}actualizar(){this.categoriaService.actualizarCategoria(this.formulario.value).subscribe(e=>{this.buscarTodos(),this.formulario.reset(),this.isCheckSave=!0})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(_),t.Y36(n.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["pages-categoria"]],decls:33,vars:4,consts:[[1,"text-center"],[1,"container","mt-4"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","nombreInput",1,"form-label"],["type","text","id","nombreInput","formControlName","nombre","placeholder","Ingrese el nombre",1,"form-control"],["for","descripcionInput",1,"form-label"],["type","text","id","descripcionInput","formControlName","descripcion","placeholder","Ingrese la descripci\xf3n",1,"form-control"],[1,"text-end"],[4,"ngIf","ngIfElse"],["btnActualizar",""],["id","tablaRegistros",1,"table","table-striped"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-warning",3,"click"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],[1,"dropdown-item",3,"click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"CATEGORIAS"),t.qZA()(),t.TgZ(3,"div",1)(4,"form",2),t.NdJ("ngSubmit",function(){return i.guardar()}),t.TgZ(5,"div",3)(6,"label",4),t._uU(7,"Nombre"),t.qZA(),t._UZ(8,"input",5),t.qZA(),t.TgZ(9,"div",3)(10,"label",6),t._uU(11,"Descripci\xf3n"),t.qZA(),t._UZ(12,"input",7),t.qZA(),t.TgZ(13,"div",8),t.YNc(14,h,3,0,"div",9),t.YNc(15,Z,2,0,"ng-template",null,10,t.W1O),t.qZA()(),t._UZ(17,"br")(18,"hr"),t.TgZ(19,"div",1)(20,"table",11)(21,"thead")(22,"tr")(23,"th"),t._uU(24,"ID"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Nombre"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Descripci\xf3n"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Opciones"),t.qZA()()(),t.TgZ(31,"tbody"),t.YNc(32,T,18,3,"tr",12),t.qZA()()()()),2&e){const a=t.MAs(16);t.xp6(4),t.Q6J("formGroup",i.formulario),t.xp6(10),t.Q6J("ngIf",i.isCheckSave)("ngIfElse",a),t.xp6(18),t.Q6J("ngForOf",i.categorias)}},dependencies:[c.sg,c.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]}),o})(),U=(()=>{class o{constructor(e){this.http=e,this.apiUrl=`${l_apiUrl}/tipoDocumento`}buscarTodos(){return this.http.get(`${this.apiUrl}/buscarTodos`)}agregar(e){return this.http.post(`${this.apiUrl}/nuevoTipoDocumento`,e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(p.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),f=(()=>{class o{constructor(e){this.http=e,this.apiUrl=`${l_apiUrl}/cliente`}buscarTodos(){return this.http.get(`${this.apiUrl}/buscarTodos`)}agregar(e){return this.http.post(`${this.apiUrl}/nuevoCliente`,e)}eliminar(e){return this.http.delete(`${this.apiUrl}/eliminar/{id}?id=${e.id}`)}actualizar(e){return console.log(e),this.http.put(`${this.apiUrl}/actualizarCliente`,e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(p.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function C(o,r){if(1&o&&(t.TgZ(0,"option",22),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.descripcion)}}function q(o,r){1&o&&(t.TgZ(0,"div")(1,"button",23),t._uU(2,"Guardar"),t.qZA()())}function A(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.actualizar())}),t._uU(1," Actualizar "),t.qZA()}}function x(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"div",25)(13,"button",26),t._uU(14," Acciones "),t.qZA(),t.TgZ(15,"ul",27)(16,"li")(17,"a",28),t.NdJ("click",function(){const d=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.cargarClienteForm(d))}),t._uU(18,"Editar"),t.qZA()(),t.TgZ(19,"li")(20,"a",29),t._uU(21,"Eliminar"),t.qZA()()()()()()}if(2&o){const e=r.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.tipoDocumentoId),t.xp6(2),t.Oqu(e.documento),t.xp6(2),t.Oqu(e.nombres),t.xp6(2),t.Oqu(e.apellidos)}}let P=(()=>{class o{constructor(e,i,a){this.documentoService=e,this.clienteService=i,this.fb=a,this.clientes=[],this.documentos=[],this.isCheckSave=!0,this.formulario=this.fb.group({id:null,nombres:null,apellidos:null,documento:null,estado:null,tipoDocumentoId:0})}ngOnInit(){this.buscarTodos()}buscarTodos(){this.clienteService.buscarTodos().subscribe(e=>{this.clientes=e}),this.documentoService.buscarTodos().subscribe(e=>{this.documentos=e})}cargarClienteForm(e){this.isCheckSave=!1,this.formulario.reset({id:e.id,nombres:e.nombres,apellidos:e.apellidos,documento:e.documento,estado:e.estado,tipoDocumentoId:e.tipoDocumentoId})}guardar(){this.clienteService.agregar(this.formulario.value).subscribe(e=>{this.buscarTodos(),this.formulario.reset()})}actualizar(){this.clienteService.actualizar(this.formulario.value).subscribe(e=>{this.buscarTodos(),this.formulario.reset(),this.isCheckSave=!0},e=>{console.log("Error al actualizar:",e)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(U),t.Y36(f),t.Y36(n.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cliente"]],decls:51,vars:5,consts:[[1,"text-center"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row","mt-4"],[1,"col-md-6"],[1,"mb-3"],["for","tipoDocumentoId",1,"form-label","fw-bold"],["id","tipoDocumentoId","formControlName","tipoDocumentoId",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","nombres",1,"form-label","fw-bold"],["type","text","id","nombres","placeholder","Ingrese sus nombres","formControlName","nombres",1,"form-control"],["for","documento",1,"form-label","fw-bold"],["type","text","id","documento","placeholder","Ingrese su documento","formControlName","documento",1,"form-control"],["for","apellidos",1,"form-label","fw-bold"],["type","text","id","apellidos","placeholder","Ingrese sus apellidos","formControlName","apellidos",1,"form-control"],["for","estado",1,"form-label","fw-bold"],["type","text","id","estado","placeholder","Ingrese su estado","formControlName","estado",1,"form-control"],[1,"text-end"],[4,"ngIf","ngIfElse"],["btnActualizar",""],[1,"container","mt-4"],["id","tablaRegistros",1,"table","table-striped"],[4,"ngFor","ngForOf"],[3,"value"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-warning",3,"click"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"dropdown-item"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"CLIENTES"),t.qZA()(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return i.guardar()}),t.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"label",5),t._uU(8,"Tipo de Documento"),t.qZA(),t.TgZ(9,"select",6),t.YNc(10,C,2,2,"option",7),t.qZA()(),t.TgZ(11,"div",4)(12,"label",8),t._uU(13,"Nombres"),t.qZA(),t._UZ(14,"input",9),t.qZA()(),t.TgZ(15,"div",3)(16,"div",4)(17,"label",10),t._uU(18,"Documento"),t.qZA(),t._UZ(19,"input",11),t.qZA(),t.TgZ(20,"div",4)(21,"label",12),t._uU(22,"Apellidos"),t.qZA(),t._UZ(23,"input",13),t.qZA()()(),t.TgZ(24,"div",4)(25,"label",14),t._uU(26,"Estado"),t.qZA(),t._UZ(27,"input",15),t.qZA(),t.TgZ(28,"div",16),t.YNc(29,q,3,0,"div",17),t.YNc(30,A,2,0,"ng-template",null,18,t.W1O),t.qZA()(),t._UZ(32,"br"),t.TgZ(33,"div",19)(34,"table",20)(35,"thead")(36,"tr")(37,"th"),t._uU(38,"ID"),t.qZA(),t.TgZ(39,"th"),t._uU(40,"Tipo de Documento"),t.qZA(),t.TgZ(41,"th"),t._uU(42,"Documento"),t.qZA(),t.TgZ(43,"th"),t._uU(44,"Nombres"),t.qZA(),t.TgZ(45,"th"),t._uU(46,"Apellidos"),t.qZA(),t.TgZ(47,"th"),t._uU(48,"Opciones"),t.qZA()()(),t.TgZ(49,"tbody"),t.YNc(50,x,22,5,"tr",21),t.qZA()()()),2&e){const a=t.MAs(31);t.xp6(3),t.Q6J("formGroup",i.formulario),t.xp6(7),t.Q6J("ngForOf",i.documentos),t.xp6(19),t.Q6J("ngIf",i.isCheckSave)("ngIfElse",a),t.xp6(21),t.Q6J("ngForOf",i.clientes)}},dependencies:[c.sg,c.O5,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.sg,n.u]}),o})(),I=(()=>{class o{constructor(e){this.http=e,this.apiUrl=`${l_apiUrl}`}buscarTodosEstadoPedido(){return this.http.get(`${this.apiUrl}/estadoPedido/buscarTodos`)}detallePedidobuscarPorPedidoId(e){return this.http.get(`${this.apiUrl}/detallePedido/buscarPorPedidoId/?id=${e}`)}agregarNuevoPedido(e){return this.http.post(`${this.apiUrl}/pedido/nuevaPedido`,e)}agregarNuevoDetallePedido(e){return this.http.post(`${this.apiUrl}/detallePedido/nuevaDetallePedido`,e)}actualizarPedido(e){return this.http.put(`${this.apiUrl}/pedido/actualizarPedido`,e)}actualizarDetallePedido(e){return this.http.put(`${this.apiUrl}/detallePedido/actualizarDetallePedido`,e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(p.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),b=(()=>{class o{constructor(e){this.http=e,this.apiUrl=`${l_apiUrl}/producto`}buscarTodos(){return this.http.get(`${this.apiUrl}/buscarTodos`)}agregar(e){return this.http.post(`${this.apiUrl}/nuevoProducto`,e)}eliminar(e){return this.http.delete(`${this.apiUrl}/eliminar/{id}?id=${e.id}`)}actualizar(e){return console.log(e),this.http.put(`${this.apiUrl}/actualizarProducto`,e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(p.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const S=["pedidoInput"];function w(o,r){if(1&o&&(t.TgZ(0,"option",18),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE(" ",e.nombres," ",e.apellidos," ")}}function N(o,r){if(1&o&&(t.TgZ(0,"option",18),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.descripcion," ")}}function F(o,r){1&o&&(t.TgZ(0,"button",19),t._uU(1," Actualizar "),t.qZA())}function y(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"form",8),t.NdJ("ngSubmit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.guardar())}),t.TgZ(2,"div",2)(3,"div",9)(4,"div",10)(5,"label",11),t._uU(6,"Cliente"),t.qZA(),t.TgZ(7,"select",12),t.YNc(8,w,2,3,"option",13),t.qZA()(),t.TgZ(9,"div",10)(10,"label",11),t._uU(11,"Estado Pedido"),t.qZA(),t.TgZ(12,"select",14),t.YNc(13,N,2,2,"option",13),t.qZA()()()(),t.TgZ(14,"div",15)(15,"div")(16,"button",16),t._uU(17,"Abrir pedido"),t.qZA()(),t.YNc(18,F,2,0,"ng-template",null,17,t.W1O),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.formulario),t.xp6(7),t.Q6J("ngForOf",e.clientes),t.xp6(5),t.Q6J("ngForOf",e.estdoPedidos)}}function O(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"input",24),t.NdJ("ngModelChange",function(a){const s=t.CHM(e).$implicit;return t.KtG(s.cantidad=a)}),t.qZA()(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"button",6),t.NdJ("click",function(){const d=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.pedido(d))}),t._uU(11,"Agregar carrito"),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(2),t.Oqu(e.nombre),t.xp6(2),t.Q6J("ngModel",e.cantidad),t.xp6(2),t.Oqu(e.precioUnitario),t.xp6(2),t.Oqu(e.unidadesDisponibles)}}function J(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"button",6),t.NdJ("click",function(){const d=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.buscarDetallePedido(d.pedidoId))}),t._uU(7,"Ver Detalle"),t.qZA()()()}if(2&o){const e=r.$implicit,i=t.oxw(2);t.xp6(2),t.Oqu(e.pedidoId),t.xp6(2),t.Oqu(i.sumaValores)}}function $(o,r){if(1&o&&(t.TgZ(0,"div")(1,"div",20)(2,"h2"),t._uU(3,"Carrito"),t.qZA()(),t.TgZ(4,"table",21)(5,"thead")(6,"tr")(7,"th",22),t._uU(8,"Producto"),t.qZA(),t.TgZ(9,"th",22),t._uU(10,"Cantidad adquirir"),t.qZA(),t.TgZ(11,"th",22),t._uU(12,"Precio Unitario"),t.qZA(),t.TgZ(13,"th",22),t._uU(14,"Unidades en Stock"),t.qZA(),t.TgZ(15,"th",22),t._uU(16,"Seleccionar"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,O,12,4,"tr",23),t.qZA()(),t._UZ(19,"br")(20,"hr"),t.TgZ(21,"div",20)(22,"h2"),t._uU(23,"Detalle Pedido"),t.qZA()(),t.TgZ(24,"table",21)(25,"thead")(26,"tr")(27,"th",22),t._uU(28,"Numero de Pedido"),t.qZA(),t.TgZ(29,"th",22),t._uU(30,"Valor Total Pedido"),t.qZA(),t.TgZ(31,"th",22),t._uU(32,"Seleccionar"),t.qZA()()(),t.TgZ(33,"tbody"),t.YNc(34,J,8,2,"tr",23),t.qZA()()()),2&o){const e=t.oxw();t.xp6(18),t.Q6J("ngForOf",e.productos),t.xp6(16),t.Q6J("ngForOf",e.pedidos)}}function D(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA()()),2&o){const e=r.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.pedido.fecha),t.xp6(2),t.Oqu(e.producto.nombre),t.xp6(2),t.Oqu(e.producto.precioUnitario),t.xp6(2),t.Oqu(e.cantidad),t.xp6(2),t.Oqu(e.valor)}}function k(o,r){if(1&o&&(t.TgZ(0,"div")(1,"table",21)(2,"thead")(3,"tr")(4,"th",22),t._uU(5,"Numero de Pedido"),t.qZA(),t.TgZ(6,"th",22),t._uU(7,"Fecha"),t.qZA(),t.TgZ(8,"th",22),t._uU(9,"Producto"),t.qZA(),t.TgZ(10,"th",22),t._uU(11,"Precio Unitario"),t.qZA(),t.TgZ(12,"th",22),t._uU(13,"Cantidad Adquirida"),t.qZA(),t.TgZ(14,"th",22),t._uU(15,"Valor Pedido"),t.qZA(),t.TgZ(16,"th",22),t._uU(17,"Seleccionar"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,D,13,6,"tr",23),t.qZA()()()),2&o){const e=t.oxw();t.xp6(19),t.Q6J("ngForOf",e.detallePedidos)}}function z(o,r){if(1&o&&(t.TgZ(0,"option",23),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.nombre," ")}}function E(o,r){1&o&&(t.TgZ(0,"div")(1,"button",24),t._uU(2,"Guardar"),t.qZA()())}function M(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.actualizar())}),t._uU(1," Actualizar "),t.qZA()}}function G(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"div",26)(3,"span",27),t._uU(4),t.qZA()()(),t.TgZ(5,"td")(6,"div",26)(7,"span",27),t._uU(8),t.qZA()()(),t.TgZ(9,"td")(10,"div",26)(11,"span",27),t._uU(12),t.qZA()()(),t.TgZ(13,"td")(14,"div",26)(15,"span",27),t._uU(16),t.qZA()()(),t.TgZ(17,"td")(18,"div",26)(19,"span",27),t._uU(20),t.qZA()()(),t.TgZ(21,"td")(22,"div",26)(23,"span",27),t._uU(24),t.ALo(25,"currency"),t.qZA()()(),t.TgZ(26,"td")(27,"div",26)(28,"span",27),t._uU(29),t.ALo(30,"number"),t.qZA()()(),t.TgZ(31,"td")(32,"div",28)(33,"button",29),t._uU(34," Acciones "),t.qZA(),t.TgZ(35,"ul",30)(36,"li")(37,"a",31),t.NdJ("click",function(){const d=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.cargarProductoForm(d))}),t._uU(38,"Editar"),t.qZA()(),t.TgZ(39,"li")(40,"a",32),t._uU(41,"Eliminar"),t.qZA()()()()()()}if(2&o){const e=r.$implicit;t.xp6(4),t.Oqu(e.id),t.xp6(4),t.Oqu(e.categoriaId),t.xp6(4),t.Oqu(e.referencia),t.xp6(4),t.Oqu(e.nombre),t.xp6(4),t.Oqu(e.descripcion),t.xp6(4),t.Oqu(t.xi3(25,7,e.precioUnitario,"COP")),t.xp6(5),t.Oqu(t.xi3(30,10,e.unidadesDisponibles,"1.0-0"))}}const Q=[{path:"categorias",component:v},{path:"clientes",component:P},{path:"pedidos",component:(()=>{class o{constructor(e,i,a,d){this.pedidosService=e,this.clientesService=i,this.productosService=a,this.fb=d,this.isCheckSave=!0,this.isGeneratePedido=!0,this.clientes=[],this.estdoPedidos=[],this.productos=[],this.detallePedidos=[],this.pedidos=[],this.sumaValores=0,this.pedidoId=0,this.iscarrito=!1,this.isdetalle=!1,this.formulario=this.fb.group({id:null,fecha:(new Date).getTime(),total:0,clienteId:0,estadoPedidoId:0})}ngOnInit(){this.buscarTodos(),this.cargarProductos()}buscarTodos(){this.pedidosService.buscarTodosEstadoPedido().subscribe(e=>{this.estdoPedidos=e}),this.clientesService.buscarTodos().subscribe(e=>{this.clientes=e})}cargarProductos(){this.productosService.buscarTodos().subscribe(e=>{this.productos=e,this.productos=this.productos.map(i=>({...i,cantidad:0}))})}guardar(){this.pedidosService.agregarNuevoPedido(this.formulario.value).subscribe(e=>{this.pedidoId=e.id,this.isGeneratePedido=!1,this.buscarTodos(),this.iscarrito=!0,this.formulario.reset()})}pedido(e){this.pedidosService.agregarNuevoDetallePedido({cantidad:e.cantidad,valor:e.cantidad*e.precioUnitario,pedidoId:this.pedidoId,productoId:e.id}).subscribe(a=>{window.alert(`Tu pedido ha sido cargado al sistema y tiene el n\xfamero de seguimiento:  ${a.pedidoId}`),this.pedidos.push(a)})}buscarDetallePedido(e){this.pedidosService.detallePedidobuscarPorPedidoId(e).subscribe(i=>{this.detallePedidos=i,this.isdetalle=!0},i=>{window.alert("Pedido no encontrado")})}calcularSumaValores(){this.sumaValores=this.pedidos.reduce((e,i)=>e+i.valor,0)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(I),t.Y36(f),t.Y36(b),t.Y36(n.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-pedido"]],viewQuery:function(e,i){if(1&e&&t.Gf(S,5),2&e){let a;t.iGM(a=t.CRH())&&(i.pedidoInput=a.first)}},decls:13,vars:3,consts:[[4,"ngIf"],[1,"container"],[1,"mb-3"],["for","pedidoId",1,"form-label"],["type","number","id","pedidoId","placeholder","Ingrese el ID del pedido","required","",1,"form-control"],["pedidoInput",""],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-search","me-2"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["for","categoria",1,"form-label","fw-bold"],["formControlName","clienteId",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["formControlName","estadoPedidoId",1,"form-select"],[1,"text-end"],["type","submit",1,"btn","btn-primary"],["btnActualizar",""],[3,"value"],["type","button",1,"btn","btn-warning"],[1,"text-center"],[1,"table","mt-4"],["scope","col"],[4,"ngFor","ngForOf"],["type","number",3,"ngModel","ngModelChange"]],template:function(e,i){if(1&e){const a=t.EpF();t.YNc(0,y,20,3,"div",0),t.TgZ(1,"div",1)(2,"form")(3,"div",2)(4,"label",3),t._uU(5,"Buscar pedido por ID:"),t.qZA(),t._UZ(6,"input",4,5),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){t.CHM(a);const s=t.MAs(7);return t.KtG(i.buscarDetallePedido(s.value))}),t._UZ(9,"i",7),t._uU(10," Buscar"),t.qZA()()(),t.YNc(11,$,35,2,"div",0),t.YNc(12,k,20,1,"div",0)}2&e&&(t.Q6J("ngIf",i.isGeneratePedido),t.xp6(11),t.Q6J("ngIf",i.iscarrito),t.xp6(1),t.Q6J("ngIf",i.isdetalle))},dependencies:[c.sg,c.O5,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,n.On,n.F]}),o})()},{path:"productos",component:(()=>{class o{constructor(e,i,a){this.categoriaService=e,this.productoService=i,this.fb=a,this.categorias=[],this.productos=[],this.isCheckSave=!0,this.formulario=this.fb.group({id:null,referencia:null,nombre:null,descripcion:null,unidadesDisponibles:0,precioUnitario:0,categoriaId:0})}ngOnInit(){this.buscarTodos()}buscarTodos(){this.categoriaService.buscarTodos().subscribe(e=>{this.categorias=e}),this.productoService.buscarTodos().subscribe(e=>{this.productos=e})}cargarProductoForm(e){this.isCheckSave=!1,this.formulario.reset({id:e.id,referencia:e.referencia,descripcion:e.descripcion,precioUnitario:e.precioUnitario,unidadesDisponibles:e.unidadesDisponibles,categoriaId:e.categoriaId,nombre:e.nombre})}guardar(){this.productoService.agregar(this.formulario.value).subscribe(e=>{this.buscarTodos(),this.formulario.reset()})}actualizar(){this.productoService.actualizar(this.formulario.value).subscribe(e=>{this.buscarTodos(),this.formulario.reset(),this.isCheckSave=!0})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(_),t.Y36(b),t.Y36(n.qu))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-producto"]],decls:64,vars:5,consts:[[1,"text-center"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","categoria",1,"form-label","fw-bold"],["id","categoria","formControlName","categoriaId",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-6"],["for","referencia",1,"form-label","fw-bold"],["type","text","id","referencia","placeholder","Ingrese la referencia","formControlName","referencia",1,"form-control"],["for","nombre",1,"form-label","fw-bold"],["type","text","id","nombre","placeholder","Ingrese el nombre","formControlName","nombre",1,"form-control"],["for","descripcion",1,"form-label","fw-bold"],["type","text","id","descripcion","placeholder","Ingrese la descripci\xf3n","formControlName","descripcion",1,"form-control"],["for","precio",1,"form-label","fw-bold"],["type","number","id","precio","placeholder","Ingrese el precio unitario","formControlName","precioUnitario",1,"form-control"],["for","unidades",1,"form-label","fw-bold"],["type","number","id","unidades","placeholder","Ingrese las unidades disponibles","formControlName","unidadesDisponibles",1,"form-control"],[1,"text-end"],[4,"ngIf","ngIfElse"],["btnActualizar",""],["id","tablaRegistros",1,"table","table-striped"],[4,"ngFor","ngForOf"],[3,"value"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-warning",3,"click"],[1,"mb-0"],[1,"form-text"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"dropdown-item"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"PRODUCTOS"),t.qZA()(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return i.guardar()}),t.TgZ(4,"div",2)(5,"label",3),t._uU(6,"Categor\xeda"),t.qZA(),t.TgZ(7,"select",4),t.YNc(8,z,2,2,"option",5),t.qZA()(),t.TgZ(9,"div",6)(10,"div",7)(11,"div",2)(12,"label",8),t._uU(13,"Referencia"),t.qZA(),t._UZ(14,"input",9),t.qZA()(),t.TgZ(15,"div",7)(16,"div",2)(17,"label",10),t._uU(18,"Nombre"),t.qZA(),t._UZ(19,"input",11),t.qZA()()(),t.TgZ(20,"div",2)(21,"label",12),t._uU(22,"Descripci\xf3n"),t.qZA(),t._UZ(23,"input",13),t.qZA(),t.TgZ(24,"div",6)(25,"div",7)(26,"div",2)(27,"label",14),t._uU(28,"Precio Unitario"),t.qZA(),t._UZ(29,"input",15),t.qZA()(),t.TgZ(30,"div",7)(31,"div",2)(32,"label",16),t._uU(33,"Unidades Disponibles"),t.qZA(),t._UZ(34,"input",17),t.qZA()()(),t.TgZ(35,"div",18),t.YNc(36,E,3,0,"div",19),t.YNc(37,M,2,0,"ng-template",null,20,t.W1O),t.qZA()(),t._UZ(39,"hr"),t.TgZ(40,"div",0)(41,"h2"),t._uU(42,"Listado"),t.qZA()(),t.TgZ(43,"table",21)(44,"thead")(45,"tr")(46,"th"),t._uU(47,"Id"),t.qZA(),t.TgZ(48,"th"),t._uU(49,"Id Categor\xeda"),t.qZA(),t.TgZ(50,"th"),t._uU(51,"Referencia"),t.qZA(),t.TgZ(52,"th"),t._uU(53,"Nombre"),t.qZA(),t.TgZ(54,"th"),t._uU(55,"Descripci\xf3n"),t.qZA(),t.TgZ(56,"th"),t._uU(57,"Precio Unitario"),t.qZA(),t.TgZ(58,"th"),t._uU(59,"Unidades Disponibles"),t.qZA(),t.TgZ(60,"th"),t._uU(61,"Opciones"),t.qZA()()(),t.TgZ(62,"tbody"),t.YNc(63,G,42,13,"tr",22),t.qZA()()),2&e){const a=t.MAs(38);t.xp6(3),t.Q6J("formGroup",i.formulario),t.xp6(5),t.Q6J("ngForOf",i.categorias),t.xp6(28),t.Q6J("ngIf",i.isCheckSave)("ngIfElse",a),t.xp6(27),t.Q6J("ngForOf",i.productos)}},dependencies:[c.sg,c.O5,n._Y,n.YN,n.Kr,n.Fj,n.wV,n.EJ,n.JJ,n.JL,n.sg,n.u,c.JJ,c.H9]}),o})()}];let K=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.Bz.forChild(Q),g.Bz]}),o})(),H=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,K,n.UX,n.u5]}),o})()}}]);